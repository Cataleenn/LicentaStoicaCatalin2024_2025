<div class="surveys-container">
  <div class="header">
    <h2>ğŸ“Š Lista Chestionarelor</h2>
    <button mat-raised-button color="primary" (click)="refreshSurveys()">
      ğŸ”„ ActualizeazÄƒ
    </button>
  </div>

  <div *ngIf="isLoading" class="loading">
    Se Ã®ncarcÄƒ chestionarele...
  </div>

  <div *ngIf="errorMessage && !isLoading" class="error">
    <h3>âŒ Eroare</h3>
    <p>{{ errorMessage }}</p>
  </div>

  <div *ngIf="!isLoading && !errorMessage && surveys.length === 0" class="no-surveys">
    <h3>ğŸ“‹ Nu existÄƒ chestionare create Ã®ncÄƒ</h3>
    <p>CreaÈ›i primul chestionar pentru a Ã®l vedea aici.</p>
  </div>

  <!-- Statistics Cards -->
  <div *ngIf="stats && !isLoading" class="stats-row">
    <mat-card class="stat-card">
      <mat-card-content>
        <div class="stat-number">{{ stats.totalSurveys }}</div>
        <div class="stat-label">Total Chestionare</div>
      </mat-card-content>
    </mat-card>
    
    <mat-card class="stat-card">
      <mat-card-content>
        <div class="stat-number">{{ stats.totalResponses }}</div>
        <div class="stat-label">Total RÄƒspunsuri</div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Surveys List -->
  <div *ngIf="!isLoading && surveys.length > 0" class="surveys-grid">
    <mat-card *ngFor="let survey of surveys; trackBy: trackBySurvey" class="survey-card">
      <mat-card-header>
        <mat-card-title>{{ survey.formTitle }}</mat-card-title>
        <mat-card-subtitle>
          ID: {{ survey.id }} â€¢ 
          {{ getQuestionCount(survey) }} Ã®ntrebÄƒri
        </mat-card-subtitle>
      </mat-card-header>
      
      <mat-card-content>
        <div class="survey-info">
          <div class="info-row">
            <strong>Creat de:</strong> 
            <span *ngIf="survey.createdBy">
              {{ survey.createdBy.name }} ({{ survey.createdBy.email }})
            </span>
            <span *ngIf="!survey.createdBy" class="unknown">Necunoscut</span>
          </div>
          
          <div class="info-row">
            <strong>Data creÄƒrii:</strong> 
            {{ formatDate(survey.createdAt) }}
          </div>
          
          <div class="info-row" *ngIf="survey.adminDescription">
            <strong>Descriere:</strong> 
            <span class="description">{{ survey.adminDescription }}</span>
          </div>
        </div>
      </mat-card-content>
      
      <mat-card-actions>
        <button mat-button color="primary" (click)="previewSurvey(survey)">
          ğŸ‘ï¸ PrevizualizeazÄƒ
        </button>
        <button mat-button color="accent" (click)="copySurveyLink(survey.id)">
          ğŸ”— CopiazÄƒ Link
        </button>
        <button mat-button color="warn" (click)="viewResponses(survey)">
          ğŸ“Š RÄƒspunsuri ({{ getResponseCount(survey) }})
        </button>
         <button mat-raised-button color="warn" (click)="deleteSurvey(survey)">
    ğŸ—‘ï¸ È˜TERGE
  </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>